<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIçŸ¥è¯†å°æµ‹éªŒ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        #quiz-container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            max-width: 800px;
            width: 100%;
            overflow: hidden;
            backdrop-filter: blur(10px);
        }
        
        #header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        #header h1 {
            font-size: 28px;
            margin-bottom: 10px;
            font-weight: 600;
        }
        
        #header p {
            font-size: 16px;
            opacity: 0.9;
        }
        
        #quiz-content {
            padding: 30px;
        }
        
        #question-number {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            display: inline-block;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 20px;
        }
        
        #question-text {
            font-size: 20px;
            color: #333;
            margin-bottom: 25px;
            line-height: 1.6;
        }
        
        #options-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .option {
            display: flex;
            align-items: center;
            padding: 15px 20px;
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .option:hover {
            background: #e3f2fd;
            border-color: #2196f3;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(33, 150, 243, 0.2);
        }
        
        .option-prefix {
            width: 30px;
            height: 30px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            margin-right: 15px;
            font-size: 16px;
        }
        
        .option-text {
            flex: 1;
            font-size: 16px;
            color: #333;
        }
        
        .option.selected {
            background: #fff3e0;
            border-color: #ff9800;
        }
        
        .option.correct {
            background: #e8f5e8;
            border-color: #4caf50;
            animation: correctPulse 0.6s ease;
        }
        
        .option.incorrect {
            background: #ffebee;
            border-color: #f44336;
            animation: incorrectShake 0.6s ease;
        }
        
        @keyframes correctPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        
        @keyframes incorrectShake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        
        #feedback-container {
            text-align: center;
            animation: fadeIn 0.5s ease;
        }
        
        #result-icon {
            font-size: 60px;
            margin-bottom: 20px;
            animation: bounceIn 0.8s ease;
        }
        
        #feedback-title {
            font-size: 24px;
            margin-bottom: 15px;
            color: #333;
        }
        
        #explanation-text {
            font-size: 16px;
            color: #666;
            line-height: 1.6;
            margin-bottom: 25px;
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #667eea;
        }
        
        #next-btn, #download-btn, #restart-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 0 10px;
        }
        
        #next-btn:hover, #download-btn:hover, #restart-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        #results-container {
            text-align: center;
            animation: fadeIn 0.8s ease;
        }
        
        #results-container h2 {
            font-size: 28px;
            color: #333;
            margin-bottom: 30px;
        }
        
        #score-container {
            position: relative;
            margin: 30px 0;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        #particles-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }
        
        .particle {
            position: absolute;
            width: 8px;
            height: 8px;
            background: #ffd700;
            border-radius: 50%;
            pointer-events: none;
            animation: particleFloat 3s ease-out forwards;
        }
        
        @keyframes particleFloat {
            0% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
            100% {
                opacity: 0;
                transform: translateY(-100px) scale(0.5);
            }
        }
        
        #score-circle {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: white;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
            position: relative;
            z-index: 2;
            animation: scoreCircleGlow 2s ease-in-out infinite alternate;
        }
        
        @keyframes scoreCircleGlow {
            0% {
                box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
            }
            100% {
                box-shadow: 0 15px 40px rgba(102, 126, 234, 0.5), 0 0 20px rgba(102, 126, 234, 0.3);
            }
        }
        
        #score-text {
            font-size: 60px;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        #total-text {
            font-size: 24px;
            opacity: 0.9;
        }
        
        #score-message {
            font-size: 18px;
            color: #333;
            margin: 20px 0;
            padding: 15px;
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: 600;
            animation: messageSlideIn 0.8s ease;
        }
        
        #result-canvas-container {
            margin: 30px 0;
            display: flex;
            justify-content: center;
        }
        
        #result-canvas {
            border: 1px solid #ddd;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        #progress-container {
            padding: 20px 30px;
            background: #f8f9fa;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        #progress-bar {
            flex: 1;
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
            margin-right: 15px;
            overflow: hidden;
        }
        
        #progress-fill {
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 4px;
            transition: width 0.3s ease;
            width: 20%;
        }
        
        #progress-text {
            font-weight: 600;
            color: #333;
            font-size: 14px;
        }
        
        .hidden {
            display: none !important;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes bounceIn {
            0% {
                opacity: 0;
                transform: scale(0.3);
            }
            50% {
                opacity: 1;
                transform: scale(1.1);
            }
            100% {
                opacity: 1;
                transform: scale(1);
            }
        }
        
        @keyframes messageSlideIn {
            0% {
                opacity: 0;
                transform: translateY(20px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* ç­”å¯¹æ—¶çš„ç‚«é…·å¥–åŠ±æ•ˆæœ */
        .correct-celebration {
            position: relative;
        }
        
        .celebration-burst {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: radial-gradient(circle, #ffd700, #ff6b6b, #4ecdc4);
            animation: celebrationBurst 1s ease-out;
            pointer-events: none;
            z-index: 10;
        }
        
        @keyframes celebrationBurst {
            0% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(0);
            }
            50% {
                opacity: 0.8;
                transform: translate(-50%, -50%) scale(1.5);
            }
            100% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(3);
            }
        }
        
        .star-shower {
            position: absolute;
            width: 20px;
            height: 20px;
            color: #ffd700;
            font-size: 20px;
            pointer-events: none;
            animation: starShower 2s ease-out forwards;
        }
        
        @keyframes starShower {
            0% {
                opacity: 1;
                transform: translateY(0) rotate(0deg);
            }
            100% {
                opacity: 0;
                transform: translateY(-150px) rotate(360deg);
            }
        }
        
        @media (max-width: 600px) {
            #quiz-container {
                border-radius: 15px;
            }
            
            #header {
                padding: 20px;
            }
            
            #header h1 {
                font-size: 24px;
            }
            
            #quiz-content {
                padding: 20px;
            }
            
            #question-text {
                font-size: 18px;
            }
            
            .option {
                padding: 12px 15px;
            }
            
            .option-prefix {
                width: 25px;
                height: 25px;
                font-size: 14px;
            }
            
            #score-circle {
                width: 150px;
                height: 150px;
            }
            
            #score-text {
                font-size: 48px;
            }
        }
    </style>
</head>
<body>
    <div id="quiz-container">
        <div id="header">
            <h1>AIçŸ¥è¯†å°æµ‹éªŒ</h1>
            <p>æµ‹è¯•ä½ å¯¹äººå·¥æ™ºèƒ½çš„ç†è§£ - æ¯é¢˜20åˆ†</p>
        </div>
        <div id="quiz-content">
            <div id="question-container">
                <div id="question-number"></div>
                <h2 id="question-text"></h2>
                <div id="options-container"></div>
            </div>
            <div id="feedback-container" class="hidden">
                <div id="result-icon"></div>
                <h3 id="feedback-title"></h3>
                <p id="explanation-text"></p>
                <button id="next-btn">ä¸‹ä¸€é¢˜</button>
            </div>
            <div id="results-container" class="hidden">
                <h2>æµ‹éªŒå®Œæˆï¼</h2>
                <div id="score-container">
                    <div id="particles-container"></div>
                    <div id="score-circle">
                        <span id="score-text">0</span>
                        <span id="total-text">/100</span>
                    </div>
                </div>
                <p id="score-message"></p>
                <div id="result-canvas-container">
                    <canvas id="result-canvas" width="600" height="400"></canvas>
                </div>
                <button id="download-btn">ä¸‹è½½æˆç»©å•</button>
                <button id="restart-btn">é‡æ–°æµ‹è¯•</button>
            </div>
        </div>
        <div id="progress-container">
            <div id="progress-bar">
                <div id="progress-fill"></div>
            </div>
            <div id="progress-text">1/5</div>
        </div>
    </div>

    <script>
        // ç«‹å³æ‰§è¡Œå‡½æ•°ï¼Œé¿å…å…¨å±€å˜é‡æ±¡æŸ“
        (function() {
            // æµ‹éªŒæ•°æ®
            const quizData = [
                {
                    question: "äººå·¥æ™ºèƒ½(AI)å­¦ä¹ çš„è¿‡ç¨‹æœ€ç±»ä¼¼äºä»¥ä¸‹å“ªç§æ¯”å–»ï¼Ÿ",
                    options: [
                        "ä¸€ä¸ªèƒ½è¯»æ‡‚ä½ å¿ƒæ€çš„é­”æ³•æ£’",
                        "ä¸€åªéšç€æ—¶é—´å­¦ä¹ æ–°æŠ€å·§çš„å°ç‹—",
                        "ä¸€ä¸ªæ— æ‰€ä¸çŸ¥çš„è¶…çº§è‹±é›„",
                        "ä¸€å°æŒ‰å›ºå®šç¨‹åºè¿è¡Œçš„æœºå™¨"
                    ],
                    answer: 1,
                    explanation: "AIçš„å­¦ä¹ è¿‡ç¨‹ç±»ä¼¼äºè®­ç»ƒå°ç‹—ï¼Œå®ƒé€šè¿‡å¤§é‡çš„ç¤ºä¾‹å’Œç»ƒä¹ é€æ¸æé«˜ï¼Œéšç€æ¥è§¦æ›´å¤šçš„æ•°æ®è€Œå˜å¾—æ›´åŠ â€˜â€™èªæ˜â€˜â€™ã€‚"
                },
                {
                    question: "åœ¨AIé¢†åŸŸä¸­ï¼Œä»€ä¹ˆæ˜¯â€˜æç¤ºè¯â€™(Prompt)ï¼Ÿ",
                    options: [
                        "é‡å¯AIç³»ç»Ÿçš„å·¥å…·",
                        "å‘é€ç»™AIä»¥è¯·æ±‚å®Œæˆç‰¹å®šä»»åŠ¡çš„æ¶ˆæ¯",
                        "AIè‡ªåŠ¨ç”Ÿæˆçš„ç­”æ¡ˆåˆ—è¡¨",
                        "ç¼–ç¨‹è¯­è¨€çš„ä¸€ç§"
                    ],
                    answer: 1,
                    explanation: "æç¤ºè¯å°±åƒä½ ä¸æ™ºèƒ½åŠ©æ‰‹çš„å¯¹è¯æ–¹å¼ï¼Œé€šè¿‡å®ƒä½ å¯ä»¥å‘AIå‘å‡ºè¯·æ±‚ã€æé—®æˆ–æŒ‡ä»¤ï¼Œå‘Šè¯‰AIä½ å¸Œæœ›å®ƒåšä»€ä¹ˆã€‚"
                },
                {
                    question: "å¤§è¯­è¨€æ¨¡å‹(LLM)æœ€è´´åˆ‡çš„æè¿°æ˜¯ä»€ä¹ˆï¼Ÿ",
                    options: [
                        "ä¸€ä¸ªæœ‰æƒ…æ„Ÿå’Œæ„è¯†çš„æœºå™¨äºº",
                        "ä¸€ä¸ªèƒ½è‡ªä¸»æ€è€ƒçš„è¶…çº§å¤§è„‘",
                        "ä¸€åªè¯»è¿‡ä¸Šç™¾ä¸‡æœ¬ä¹¦çš„é¹¦é¹‰",
                        "ä¸€å°åªä¼šå¤åˆ¶æ–‡å­—çš„æ‰“å°æœº"
                    ],
                    answer: 2,
                    explanation: "å¤§è¯­è¨€æ¨¡å‹å°±åƒä¸€åªè®­ç»ƒæœ‰ç´ çš„é¹¦é¹‰ï¼Œå®ƒå­¦ä¹ äº†æµ·é‡çš„æ–‡æœ¬æ•°æ®ï¼Œèƒ½å¤Ÿåƒäººç±»ä¸€æ ·è¯´è¯å’Œå†™ä½œï¼Œä½†å®ƒå¹¶ä¸çœŸæ­£â€™ç†è§£â€™å†…å®¹ï¼Œåªæ˜¯åŸºäºæ¦‚ç‡é¢„æµ‹ä¸‹ä¸€ä¸ªè¯åº”è¯¥æ˜¯ä»€ä¹ˆã€‚"
                },
                {
                    question: "APIå¯†é’¥çš„åŠŸèƒ½ç±»ä¼¼äºä»€ä¹ˆï¼Ÿ",
                    options: [
                        "æ™®é€šçš„ç½‘ç«™å¯†ç ",
                        "è¿›å…¥AIæœåŠ¡çš„é€šè¡Œè¯",
                        "æ‰‹æœºçš„å±å¹•é”",
                        "è®¡ç®—æœºçš„æ“ä½œç³»ç»Ÿ"
                    ],
                    answer: 1,
                    explanation: "APIå¯†é’¥å°±åƒæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„é€šè¡Œè¯ï¼Œå®ƒå…è®¸åº”ç”¨ç¨‹åºä¸AIç³»ç»Ÿè¿›è¡Œäº¤æµï¼Œæ²¡æœ‰è¿™ä¸ªå¯†é’¥ï¼Œåº”ç”¨å°±æ— æ³•è®¿é—®AIæœåŠ¡ã€‚"
                },
                {
                    question: "AIçš„â€˜ä¸Šä¸‹æ–‡çª—å£â€™(Context Window)æŒ‡çš„æ˜¯ä»€ä¹ˆï¼Ÿ",
                    options: [
                        "AIèƒ½è¿è¡Œçš„åº”ç”¨ç¨‹åºæ•°é‡",
                        "AIå›å¤çš„é€Ÿåº¦",
                        "AIä¸€æ¬¡èƒ½è®°ä½çš„å¯¹è¯å†…å®¹é‡",
                        "AIæ˜¾ç¤ºä¿¡æ¯çš„å±å¹•å¤§å°"
                    ],
                    answer: 2,
                    explanation: "ä¸Šä¸‹æ–‡çª—å£å°±åƒä¸€å—ç™½æ¿ï¼Œä¸€æ—¦å¡«æ»¡ï¼ŒAIå°±ä¼šå¼€å§‹å¿˜è®°æ—©æœŸçš„å¯¹è¯éƒ¨åˆ†ï¼Œä¸ºæ–°å†…å®¹è…¾å‡ºç©ºé—´ã€‚ç†è§£è¿™ä¸€æ¦‚å¿µå¯¹æœ‰æ•ˆä½¿ç”¨AIç³»ç»Ÿéå¸¸é‡è¦ã€‚"
                }
            ];
            
            // æµ‹éªŒçŠ¶æ€å˜é‡
            let currentQuestion = 0;
            let score = 0;
            let userAnswers = [];
            
            // åˆå§‹åŒ–æµ‹éªŒ
            function initQuiz() {
                showQuestion(0);
                updateProgress();
            }
            
            // æ˜¾ç¤ºé—®é¢˜
            function showQuestion(index) {
                const questionData = quizData[index];
                
                // æ›´æ–°é—®é¢˜ç¼–å·å’Œæ–‡æœ¬
                document.getElementById('question-number').textContent = `é—®é¢˜ ${index + 1}`;
                document.getElementById('question-text').textContent = questionData.question;
                
                // æ¸…ç©ºå¹¶é‡æ–°å¡«å……é€‰é¡¹å®¹å™¨
                const optionsContainer = document.getElementById('options-container');
                optionsContainer.innerHTML = '';
                
                // æ·»åŠ é€‰é¡¹
                const optionLetters = ['A', 'B', 'C', 'D'];
                questionData.options.forEach((option, i) => {
                    const optionElement = document.createElement('div');
                    optionElement.className = 'option';
                    optionElement.innerHTML = `
                        <div class="option-prefix">${optionLetters[i]}</div>
                        <div class="option-text">${option}</div>
                    `;
                    
                    // æ·»åŠ ç‚¹å‡»äº‹ä»¶
                    optionElement.addEventListener('click', () => selectOption(i));
                    
                    optionsContainer.appendChild(optionElement);
                });
                
                // éšè—åé¦ˆå®¹å™¨ï¼Œæ˜¾ç¤ºé—®é¢˜å®¹å™¨
                document.getElementById('feedback-container').classList.add('hidden');
                document.getElementById('question-container').classList.remove('hidden');
                document.getElementById('results-container').classList.add('hidden');
                
                // æ›´æ–°è¿›åº¦æ–‡æœ¬
                document.getElementById('progress-text').textContent = `${index + 1}/${quizData.length}`;
            }
            
            // é€‰æ‹©é€‰é¡¹
            function selectOption(optionIndex) {
                const questionData = quizData[currentQuestion];
                const options = document.querySelectorAll('.option');
                
                // é˜²æ­¢é‡å¤é€‰æ‹©
                if (options[0].classList.contains('selected') || 
                    options[0].classList.contains('correct') || 
                    options[0].classList.contains('incorrect')) {
                    return;
                }
                
                // è®°å½•ç”¨æˆ·ç­”æ¡ˆ
                userAnswers[currentQuestion] = optionIndex;
                
                // æ ‡è®°é€‰ä¸­çš„é€‰é¡¹
                options[optionIndex].classList.add('selected');
                
                // æ˜¾ç¤ºæ­£ç¡®å’Œé”™è¯¯çš„é€‰é¡¹
                setTimeout(() => {
                    options[questionData.answer].classList.add('correct');
                    
                    if (optionIndex !== questionData.answer) {
                        options[optionIndex].classList.add('incorrect');
                    } else {
                        // ç­”å¯¹æ—¶æ˜¾ç¤ºç‚«é…·å¥–åŠ±æ•ˆæœ
                        showCorrectCelebration();
                    }
                    
                    // æ˜¾ç¤ºåé¦ˆ
                    showFeedback(optionIndex === questionData.answer);
                }, 500);
            }
            
            // ç­”å¯¹æ—¶çš„ç‚«é…·åº†ç¥æ•ˆæœ
            function showCorrectCelebration() {
                const container = document.getElementById('quiz-content');
                
                // åˆ›å»ºçˆ†ç‚¸æ•ˆæœ
                const burst = document.createElement('div');
                burst.className = 'celebration-burst';
                container.appendChild(burst);
                
                // åˆ›å»ºæ˜Ÿæ˜Ÿé›¨æ•ˆæœ
                for (let i = 0; i < 12; i++) {
                    setTimeout(() => {
                        const star = document.createElement('div');
                        star.className = 'star-shower';
                        star.textContent = 'â­';
                        star.style.left = Math.random() * 100 + '%';
                        star.style.top = Math.random() * 50 + 25 + '%';
                        container.appendChild(star);
                        
                        // 2ç§’åç§»é™¤æ˜Ÿæ˜Ÿ
                        setTimeout(() => {
                            if (star.parentNode) {
                                star.parentNode.removeChild(star);
                            }
                        }, 2000);
                    }, i * 100);
                }
                
                // 1ç§’åç§»é™¤çˆ†ç‚¸æ•ˆæœ
                setTimeout(() => {
                    if (burst.parentNode) {
                        burst.parentNode.removeChild(burst);
                    }
                }, 1000);
            }
            
            // æ˜¾ç¤ºåé¦ˆ
            function showFeedback(isCorrect) {
                const feedbackContainer = document.getElementById('feedback-container');
                const resultIcon = document.getElementById('result-icon');
                const feedbackTitle = document.getElementById('feedback-title');
                const explanationText = document.getElementById('explanation-text');
                
                // æ›´æ–°åé¦ˆå†…å®¹
                if (isCorrect) {
                    resultIcon.textContent = 'ğŸ‰';
                    feedbackTitle.textContent = 'å¤ªæ£’äº†ï¼å›ç­”æ­£ç¡®ï¼+20åˆ†';
                    score += 20; // æ¯é¢˜20åˆ†
                } else {
                    resultIcon.textContent = 'âŒ';
                    feedbackTitle.textContent = 'å›ç­”é”™è¯¯ï¼+0åˆ†';
                }
                
                explanationText.textContent = quizData[currentQuestion].explanation;
                
                // æ˜¾ç¤ºåé¦ˆå®¹å™¨
                feedbackContainer.classList.remove('hidden');
                
                // æ·»åŠ ä¸‹ä¸€é¢˜æŒ‰é’®äº‹ä»¶
                document.getElementById('next-btn').onclick = nextQuestion;
            }
            
            // ä¸‹ä¸€é¢˜
            function nextQuestion() {
                currentQuestion++;
                
                if (currentQuestion < quizData.length) {
                    showQuestion(currentQuestion);
                    updateProgress();
                } else {
                    showResults();
                }
            }
            
            // æ›´æ–°è¿›åº¦æ¡
            function updateProgress() {
                const progressFill = document.getElementById('progress-fill');
                const progressPercentage = ((currentQuestion + 1) / quizData.length) * 100;
                progressFill.style.width = progressPercentage + '%';
            }
            
            // åˆ›å»ºç²’å­æ•ˆæœ
            function createParticles() {
                const particlesContainer = document.getElementById('particles-container');
                
                for (let i = 0; i < 30; i++) {
                    setTimeout(() => {
                        const particle = document.createElement('div');
                        particle.className = 'particle';
                        
                        // éšæœºä½ç½®å’Œé¢œè‰²
                        const colors = ['#ffd700', '#ff6b6b', '#4ecdc4', '#45b7d1', '#96ceb4', '#feca57'];
                        particle.style.background = colors[Math.floor(Math.random() * colors.length)];
                        particle.style.left = Math.random() * 100 + '%';
                        particle.style.top = Math.random() * 100 + '%';
                        
                        particlesContainer.appendChild(particle);
                        
                        // 3ç§’åç§»é™¤ç²’å­
                        setTimeout(() => {
                            if (particle.parentNode) {
                                particle.parentNode.removeChild(particle);
                            }
                        }, 3000);
                    }, i * 100);
                }
            }
            
            // æ•°å­—åŠ¨ç”»æ•ˆæœ
            function animateScore(finalScore) {
                const scoreElement = document.getElementById('score-text');
                let currentScore = 0;
                const increment = finalScore / 50; // 50æ­¥å®ŒæˆåŠ¨ç”»
                
                const timer = setInterval(() => {
                    currentScore += increment;
                    if (currentScore >= finalScore) {
                        currentScore = finalScore;
                        clearInterval(timer);
                    }
                    scoreElement.textContent = Math.floor(currentScore);
                }, 40);
            }
            
            // æ˜¾ç¤ºç»“æœ
            function showResults() {
                const resultsContainer = document.getElementById('results-container');
                const questionContainer = document.getElementById('question-container');
                const feedbackContainer = document.getElementById('feedback-container');
                const scoreMessage = document.getElementById('score-message');
                
                // éšè—é—®é¢˜å’Œåé¦ˆå®¹å™¨
                questionContainer.classList.add('hidden');
                feedbackContainer.classList.add('hidden');
                
                // æ˜¾ç¤ºç»“æœå®¹å™¨
                resultsContainer.classList.remove('hidden');
                
                // åˆ›å»ºç²’å­æ•ˆæœ
                createParticles();
                
                // åŠ¨ç”»æ˜¾ç¤ºåˆ†æ•°
                setTimeout(() => {
                    animateScore(score);
                }, 500);
                
                // æ ¹æ®åˆ†æ•°æ˜¾ç¤ºä¸åŒçš„æ¶ˆæ¯ï¼ˆå»æ‰ç­‰çº§ç›¸å…³å†…å®¹ï¼‰
                let message = '';
                if (score === 100) {
                    message = 'ğŸ‰ å¤ªæ£’äº†ï¼ä½ æ˜¯AIé¢†åŸŸçš„ä¸“å®¶ï¼æ»¡åˆ†æˆå°±è¾¾æˆï¼';
                } else if (score >= 80) {
                    message = 'ğŸŒŸ åšå¾—å¾ˆå¥½ï¼ä½ å¯¹AIæœ‰å¾ˆå¥½çš„ç†è§£ï¼';
                } else if (score >= 60) {
                    message = 'ğŸ‘ ä¸é”™çš„å°è¯•ï¼ç»§ç»­å­¦ä¹ AIçŸ¥è¯†å§ï¼';
                } else if (score >= 40) {
                    message = 'ğŸ“– è¿˜æœ‰è¿›æ­¥ç©ºé—´ï¼Œå¤šäº†è§£ä¸€äº›AIçŸ¥è¯†ä¼šæ›´å¥½ï¼';
                } else {
                    message = 'ğŸ’ª ç»§ç»­åŠªåŠ›ï¼AIé¢†åŸŸç­‰å¾…ä½ çš„æ¢ç´¢ï¼';
                }
                
                scoreMessage.textContent = message;
                
                // ç”Ÿæˆç»“æœå›¾ç‰‡
                generateResultImage();
                
                // æ·»åŠ ä¸‹è½½æŒ‰é’®äº‹ä»¶
                document.getElementById('download-btn').onclick = downloadResult;
                
                // æ·»åŠ é‡æ–°å¼€å§‹æŒ‰é’®äº‹ä»¶
                document.getElementById('restart-btn').onclick = restartQuiz;
                
                // éšè—è¿›åº¦æ¡
                document.getElementById('progress-container').style.display = 'none';
            }
            
            // ç”Ÿæˆç»“æœå›¾ç‰‡ï¼ˆç§»é™¤ç­‰çº§ä¿¡æ¯ï¼‰
            function generateResultImage() {
                const canvas = document.getElementById('result-canvas');
                const ctx = canvas.getContext('2d');
                
                // è®¾ç½®èƒŒæ™¯
                ctx.fillStyle = '#f5f7fa';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                // æ·»åŠ æ ‡é¢˜
                ctx.fillStyle = '#764ba2';
                ctx.font = 'bold 24px "Segoe UI", sans-serif';
                ctx.textAlign = 'center';
                ctx.fillText('AIçŸ¥è¯†å°æµ‹éªŒæˆç»©å•', canvas.width / 2, 40);
                
                // æ·»åŠ åˆ†æ•°
                ctx.fillStyle = '#333';
                ctx.font = 'bold 36px "Segoe UI", sans-serif';
                ctx.fillText(`${score}/100åˆ†`, canvas.width / 2, 100);
                
                // æ·»åŠ æ—¥æœŸ
                const date = new Date();
                ctx.font = '16px "Segoe UI", sans-serif';
                ctx.fillStyle = '#666';
                ctx.fillText(`å®Œæˆæ—¥æœŸ: ${date.toLocaleDateString()}`, canvas.width / 2, 130);
                
                // æ·»åŠ åˆ†å‰²çº¿
                ctx.strokeStyle = '#ddd';
                ctx.beginPath();
                ctx.moveTo(50, 150);
                ctx.lineTo(canvas.width - 50, 150);
                ctx.stroke();
                
                // æ·»åŠ é—®é¢˜å›é¡¾
                ctx.textAlign = 'left';
                ctx.font = 'bold 18px "Segoe UI", sans-serif';
                ctx.fillStyle = '#333';
                ctx.fillText('é—®é¢˜å›é¡¾:', 50, 180);
                
                // æ·»åŠ æ¯ä¸ªé—®é¢˜çš„ç»“æœ
                const optionLetters = ['A', 'B', 'C', 'D'];
                let yPos = 210;
                
                for (let i = 0; i < quizData.length; i++) {
                    const question = quizData[i];
                    const userAnswer = userAnswers[i];
                    const isCorrect = userAnswer === question.answer;
                    
                    // é—®é¢˜ç¼–å·å’ŒçŠ¶æ€
                    ctx.font = 'bold 16px "Segoe UI", sans-serif';
                    ctx.fillStyle = isCorrect ? '#28a745' : '#dc3545';
                    ctx.fillText(`é—®é¢˜ ${i + 1}: ${isCorrect ? 'âœ“ +20åˆ†' : 'âœ— +0åˆ†'}`, 50, yPos);
                    
                    // ç”¨æˆ·é€‰æ‹©å’Œæ­£ç¡®ç­”æ¡ˆ
                    ctx.font = '14px "Segoe UI", sans-serif';
                    ctx.fillStyle = '#555';
                    ctx.fillText(`ä½ çš„é€‰æ‹©: ${optionLetters[userAnswer]} | æ­£ç¡®ç­”æ¡ˆ: ${optionLetters[question.answer]}`, 200, yPos);
                    
                    yPos += 30;
                }
                
                // æ·»åŠ åº•éƒ¨ä¿¡æ¯
                ctx.textAlign = 'center';
                ctx.font = 'italic 14px "Segoe UI", sans-serif';
                ctx.fillStyle = '#777';
                ctx.fillText('ç»§ç»­å­¦ä¹ ï¼Œæ¢ç´¢AIçš„å¥‡å¦™ä¸–ç•Œï¼', canvas.width / 2, canvas.height - 30);
            }
            
            // ä¸‹è½½ç»“æœå›¾ç‰‡
            function downloadResult() {
                const canvas = document.getElementById('result-canvas');
                const link = document.createElement('a');
                
                // è®¾ç½®ä¸‹è½½å±æ€§
                link.download = `AIçŸ¥è¯†æµ‹éªŒç»“æœ_${score}åˆ†.png`;
                link.href = canvas.toDataURL('image/png');
                
                // æ¨¡æ‹Ÿç‚¹å‡»ä¸‹è½½
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
            }
            
            // é‡æ–°å¼€å§‹æµ‹éªŒ
            function restartQuiz() {
                currentQuestion = 0;
                score = 0;
                userAnswers = [];
                
                // æ¸…é™¤ç²’å­æ•ˆæœ
                const particlesContainer = document.getElementById('particles-container');
                particlesContainer.innerHTML = '';
                
                // é‡ç½®è¿›åº¦æ¡
                document.getElementById('progress-container').style.display = 'flex';
                
                // æ˜¾ç¤ºç¬¬ä¸€ä¸ªé—®é¢˜
                showQuestion(0);
                updateProgress();
            }
            
            // å½“DOMåŠ è½½å®Œæˆååˆå§‹åŒ–åº”ç”¨
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', initQuiz);
            } else {
                initQuiz();
            }
        })();
    </script>
</body>
</html>